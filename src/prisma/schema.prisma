//******** AUTO GENERATED FILE, DO NOT EDIT.  *********

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model TimeRecord {
  id String @unique @default(uuid())
  userId String 

  recordDate String?

  timeIn DateTime?
  timeOut DateTime?

  user User @relation(fields: [userId], references: [id])
}

model Transaction {
  id String @unique @default(uuid())
  userId String
  type transactionType[]
  description String?

  startDate DateTime? 
  endDate DateTime?

  createdAt DateTime @default(now())
  updatedat DateTime @updatedAt

  user User @relation(fields: [userId])
}

enum transactionType {
  LEAVE
  UNDERTIME
  OFFICIALBUSINESS
  OVERTIME
  SCHEDULE
  CERTOFATTENDANCE
}

model User {
  id       String @unique @default(uuid())
  username String @unique
  password String
  role     Role
  
  profile Profile?
  timeRecord TimeRecord[]
  transaction Transaction[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Profile {
  id     String @unique @default(uuid())
  userId String @unique

  lastName   String
  firstName  String
  middleName String?
  suffix     String?

  gender    String?
  birthDate DateTime?

  contactNumber String?
  contactEmail  String?

  employmentType employmentType
  department     department
  hireDate       DateTime
  supervisor     String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
}

enum Role {
  ADMIN
  EMPLOYEE
  INTERN
}

enum employmentType {
  FULLTIME
  PARTTIME
  INTERN
}

enum department {
  ADMINFINANCE
  PRODUCTION
  MARKETING
  SOCIALMEDIA
  DEVOPS
  MOBILEDEV
  WEBDEV
}

